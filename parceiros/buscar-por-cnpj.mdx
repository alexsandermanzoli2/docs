---
title: 'Buscar Leads por CNPJ'
api: 'GET /search_enriched_leads/cnpj'
description: 'Busca informações detalhadas de empresas e seus contatos através do CNPJ'
---

## Visão Geral

Este endpoint permite buscar informações completas sobre empresas e seus contatos utilizando o CNPJ. Você pode buscar múltiplos CNPJs em uma única requisição.

## Requisição

### URL
```
GET https://api-get-leads.speedio.com.br/search_enriched_leads/cnpj
```

### Parâmetros de Query

<ParamField query="cnpjs" type="array" required>
  Array de CNPJs para buscar. Deve ser enviado como string JSON codificada na URL.
  
  Formato: `["CNPJ1", "CNPJ2", ...]`
  
  Exemplo: `cnpjs=["21071712000171","12345678000190"]`
</ParamField>

### Headers Obrigatórios

<ParamField header="Authorization" type="string" required>
  Header de autenticação Basic Auth
  
  Formato: `Basic base64(username:password)`
</ParamField>

<ParamField header="Content-Type" type="string" required>
  Tipo de conteúdo da requisição
  
  Valor: `application/json`
</ParamField>

## Resposta

<ResponseField name="success" type="boolean">
  Indica se a requisição foi bem-sucedida
</ResponseField>

<ResponseField name="data" type="array">
  Array contendo os dados das empresas encontradas
  
  <Expandable title="Objeto Empresa">
    <ResponseField name="cnpj" type="string">
      CNPJ da empresa (formato: XX.XXX.XXX/XXXX-XX)
    </ResponseField>
    
    <ResponseField name="razao_social" type="string">
      Razão social completa da empresa
    </ResponseField>
    
    <ResponseField name="nome_fantasia" type="string">
      Nome fantasia da empresa
    </ResponseField>
    
    <ResponseField name="data_abertura" type="string">
      Data de abertura da empresa (formato: YYYY-MM-DD)
    </ResponseField>
    
    <ResponseField name="situacao" type="string">
      Situação cadastral: `ATIVA`, `BAIXADA`, `SUSPENSA`, `INAPTA`
    </ResponseField>
    
    <ResponseField name="porte" type="string">
      Porte da empresa: `MEI`, `ME`, `EPP`, `DEMAIS`
    </ResponseField>
    
    <ResponseField name="capital_social" type="number">
      Capital social da empresa em reais
    </ResponseField>
    
    <ResponseField name="atividade_principal" type="object">
      Atividade principal da empresa
      
      <Expandable title="Atividade">
        <ResponseField name="codigo" type="string">
          Código CNAE
        </ResponseField>
        
        <ResponseField name="descricao" type="string">
          Descrição da atividade
        </ResponseField>
      </Expandable>
    </ResponseField>
    
    <ResponseField name="endereco" type="object">
      Endereço completo da empresa
      
      <Expandable title="Endereço">
        <ResponseField name="logradouro" type="string">
          Nome da rua/avenida
        </ResponseField>
        
        <ResponseField name="numero" type="string">
          Número do endereço
        </ResponseField>
        
        <ResponseField name="complemento" type="string">
          Complemento do endereço
        </ResponseField>
        
        <ResponseField name="bairro" type="string">
          Bairro
        </ResponseField>
        
        <ResponseField name="cidade" type="string">
          Cidade
        </ResponseField>
        
        <ResponseField name="uf" type="string">
          Estado (sigla)
        </ResponseField>
        
        <ResponseField name="cep" type="string">
          CEP (formato: XXXXX-XXX)
        </ResponseField>
      </Expandable>
    </ResponseField>
    
    <ResponseField name="telefones" type="array">
      Lista de telefones da empresa
    </ResponseField>
    
    <ResponseField name="email" type="string">
      E-mail principal da empresa
    </ResponseField>
    
    <ResponseField name="website" type="string">
      Website da empresa
    </ResponseField>
    
    <ResponseField name="socios" type="array">
      Lista de sócios da empresa
      
      <Expandable title="Sócio">
        <ResponseField name="nome" type="string">
          Nome completo do sócio
        </ResponseField>
        
        <ResponseField name="cpf_cnpj" type="string">
          CPF ou CNPJ do sócio (mascarado)
        </ResponseField>
        
        <ResponseField name="qualificacao" type="string">
          Qualificação do sócio
        </ResponseField>
        
        <ResponseField name="data_entrada" type="string">
          Data de entrada na sociedade
        </ResponseField>
      </Expandable>
    </ResponseField>
    
    <ResponseField name="contatos" type="array">
      Lista de contatos associados à empresa
      
      <Expandable title="Contato">
        <ResponseField name="id" type="string">
          ID único do contato
        </ResponseField>
        
        <ResponseField name="nome" type="string">
          Nome completo do contato
        </ResponseField>
        
        <ResponseField name="email" type="string">
          E-mail do contato
        </ResponseField>
        
        <ResponseField name="telefone" type="string">
          Telefone do contato
        </ResponseField>
        
        <ResponseField name="celular" type="string">
          Celular do contato
        </ResponseField>
        
        <ResponseField name="cargo" type="string">
          Cargo do contato na empresa
        </ResponseField>
        
        <ResponseField name="departamento" type="string">
          Departamento do contato
        </ResponseField>
        
        <ResponseField name="linkedin" type="string">
          URL do perfil LinkedIn
        </ResponseField>
        
        <ResponseField name="validado" type="boolean">
          Se o contato foi validado
        </ResponseField>
        
        <ResponseField name="score" type="integer">
          Score de qualidade do contato (0-100)
        </ResponseField>
        
        <ResponseField name="ultima_atualizacao" type="string">
          Data da última atualização (ISO 8601)
        </ResponseField>
      </Expandable>
    </ResponseField>
    
    <ResponseField name="enriquecimento" type="object">
      Dados adicionais de enriquecimento
      
      <Expandable title="Enriquecimento">
        <ResponseField name="funcionarios" type="integer">
          Número estimado de funcionários
        </ResponseField>
        
        <ResponseField name="faturamento_estimado" type="string">
          Faixa de faturamento estimado
        </ResponseField>
        
        <ResponseField name="tecnologias" type="array">
          Tecnologias utilizadas pela empresa
        </ResponseField>
        
        <ResponseField name="redes_sociais" type="object">
          Links das redes sociais
        </ResponseField>
        
        <ResponseField name="certificacoes" type="array">
          Certificações da empresa
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="not_found" type="array">
  Lista de CNPJs que não foram encontrados
</ResponseField>

<ResponseField name="metadata" type="object">
  Metadados da resposta
  
  <Expandable title="Metadata">
    <ResponseField name="total_requested" type="integer">
      Total de CNPJs solicitados
    </ResponseField>
    
    <ResponseField name="total_found" type="integer">
      Total de CNPJs encontrados
    </ResponseField>
    
    <ResponseField name="processing_time" type="number">
      Tempo de processamento em segundos
    </ResponseField>
    
    <ResponseField name="credits_used" type="integer">
      Créditos consumidos na requisição
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash cURL
# Configure as variáveis de ambiente primeiro
export SPEEDIO_USERNAME="seu_usuario"
export SPEEDIO_PASSWORD="sua_senha"

curl --location --globoff --request GET 'https://api-get-leads.speedio.com.br/search_enriched_leads/cnpj?cnpjs=["21071712000171","12345678000190"]' \
  --header 'Content-Type: application/json' \
  --header "Authorization: Basic $(echo -n ${SPEEDIO_USERNAME}:${SPEEDIO_PASSWORD} | base64)"
```

```javascript Node.js
const axios = require('axios');

// Configure as variáveis de ambiente
const username = process.env.SPEEDIO_USERNAME;
const password = process.env.SPEEDIO_PASSWORD;

if (!username || !password) {
  throw new Error('SPEEDIO_USERNAME e SPEEDIO_PASSWORD devem estar definidas');
}

const cnpjs = ["21071712000171", "12345678000190"];
const auth = Buffer.from(`${username}:${password}`).toString('base64');

const config = {
  method: 'get',
  url: 'https://api-get-leads.speedio.com.br/search_enriched_leads/cnpj',
  params: {
    cnpjs: JSON.stringify(cnpjs)
  },
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Basic ${auth}`
  }
};

axios(config)
  .then(response => {
    console.log(JSON.stringify(response.data, null, 2));
  })
  .catch(error => {
    console.error(error);
  });
```

```python Python
import requests
import json
import base64
import os

# Configure as variáveis de ambiente
username = os.getenv('SPEEDIO_USERNAME')
password = os.getenv('SPEEDIO_PASSWORD')

if not username or not password:
    raise ValueError('SPEEDIO_USERNAME e SPEEDIO_PASSWORD devem estar definidas')

# Configurar autenticação
auth = base64.b64encode(f"{username}:{password}".encode()).decode()

# CNPJs para buscar
cnpjs = ["21071712000171", "12345678000190"]

# Fazer requisição
url = "https://api-get-leads.speedio.com.br/search_enriched_leads/cnpj"
params = {
    "cnpjs": json.dumps(cnpjs)
}
headers = {
    "Content-Type": "application/json",
    "Authorization": f"Basic {auth}"
}

response = requests.get(url, headers=headers, params=params)

# Processar resposta
if response.status_code == 200:
    data = response.json()
    print(json.dumps(data, indent=2, ensure_ascii=False))
else:
    print(f"Erro: {response.status_code}")
    print(response.text)
```

```php PHP
<?php
// Configure as variáveis de ambiente
$username = $_ENV['SPEEDIO_USERNAME'] ?? getenv('SPEEDIO_USERNAME');
$password = $_ENV['SPEEDIO_PASSWORD'] ?? getenv('SPEEDIO_PASSWORD');

if (!$username || !$password) {
    throw new Exception('SPEEDIO_USERNAME e SPEEDIO_PASSWORD devem estar definidas');
}

// Configurar autenticação
$auth = base64_encode($username . ':' . $password);

// CNPJs para buscar
$cnpjs = ["21071712000171", "12345678000190"];
$cnpjsJson = json_encode($cnpjs);

// Preparar requisição
$url = 'https://api-get-leads.speedio.com.br/search_enriched_leads/cnpj';
$url .= '?cnpjs=' . urlencode($cnpjsJson);

$curl = curl_init();

curl_setopt_array($curl, [
    CURLOPT_URL => $url,
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_ENCODING => '',
    CURLOPT_MAXREDIRS => 10,
    CURLOPT_TIMEOUT => 30,
    CURLOPT_FOLLOWLOCATION => true,
    CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
    CURLOPT_CUSTOMREQUEST => 'GET',
    CURLOPT_HTTPHEADER => [
        'Content-Type: application/json',
        'Authorization: Basic ' . $auth
    ],
]);

$response = curl_exec($curl);
$httpCode = curl_getinfo($curl, CURLINFO_HTTP_CODE);
curl_close($curl);

if ($httpCode == 200) {
    $data = json_decode($response, true);
    print_r($data);
} else {
    echo "Erro: HTTP " . $httpCode . "\n";
    echo $response;
}
?>
```

</RequestExample>

<ResponseExample>

```json Resposta de Sucesso (200)
{
  "success": true,
  "data": [
    {
      "cnpj": "21.071.712/0001-71",
      "razao_social": "EMPRESA EXEMPLO TECNOLOGIA LTDA",
      "nome_fantasia": "EXEMPLO TECH",
      "data_abertura": "2015-03-15",
      "situacao": "ATIVA",
      "porte": "EPP",
      "capital_social": 500000.00,
      "atividade_principal": {
        "codigo": "62.01-5-01",
        "descricao": "Desenvolvimento de programas de computador sob encomenda"
      },
      "endereco": {
        "logradouro": "Avenida Paulista",
        "numero": "1234",
        "complemento": "Sala 501",
        "bairro": "Bela Vista",
        "cidade": "São Paulo",
        "uf": "SP",
        "cep": "01310-100"
      },
      "telefones": [
        "(11) 3456-7890",
        "(11) 3456-7891"
      ],
      "email": "contato@exemplotech.com.br",
      "website": "https://www.exemplotech.com.br",
      "socios": [
        {
          "nome": "João Silva Santos",
          "cpf_cnpj": "***456789**",
          "qualificacao": "Sócio-Administrador",
          "data_entrada": "2015-03-15"
        },
        {
          "nome": "Maria Oliveira Costa",
          "cpf_cnpj": "***789012**",
          "qualificacao": "Sócio",
          "data_entrada": "2016-08-20"
        }
      ],
      "contatos": [
        {
          "id": "cont_abc123",
          "nome": "Carlos Eduardo Mendes",
          "email": "carlos.mendes@exemplotech.com.br",
          "telefone": "(11) 3456-7890",
          "celular": "(11) 98765-4321",
          "cargo": "Diretor Comercial",
          "departamento": "Vendas",
          "linkedin": "https://linkedin.com/in/carloseduardomendes",
          "validado": true,
          "score": 92,
          "ultima_atualizacao": "2024-01-10T14:30:00Z"
        },
        {
          "id": "cont_def456",
          "nome": "Ana Paula Rodrigues",
          "email": "ana.rodrigues@exemplotech.com.br",
          "telefone": "(11) 3456-7891",
          "celular": "(11) 97654-3210",
          "cargo": "Gerente de Marketing",
          "departamento": "Marketing",
          "linkedin": "https://linkedin.com/in/anapaularodrigues",
          "validado": true,
          "score": 88,
          "ultima_atualizacao": "2024-01-08T10:15:00Z"
        }
      ],
      "enriquecimento": {
        "funcionarios": 45,
        "faturamento_estimado": "R$ 5M - R$ 10M",
        "tecnologias": [
          "AWS",
          "Docker",
          "React",
          "Node.js",
          "PostgreSQL"
        ],
        "redes_sociais": {
          "linkedin": "https://linkedin.com/company/exemplotech",
          "instagram": "https://instagram.com/exemplotech",
          "facebook": "https://facebook.com/exemplotech"
        },
        "certificacoes": [
          "ISO 9001:2015",
          "AWS Partner"
        ]
      }
    }
  ],
  "not_found": [
    "12345678000190"
  ],
  "metadata": {
    "total_requested": 2,
    "total_found": 1,
    "processing_time": 0.234,
    "credits_used": 1
  }
}
```

```json CNPJ Inválido (400)
{
  "success": false,
  "error": {
    "code": "invalid_request",
    "message": "Invalid CNPJ format",
    "details": {
      "invalid_cnpjs": ["12345"]
    }
  }
}
```

```json Não Autorizado (401)
{
  "success": false,
  "error": {
    "code": "unauthorized",
    "message": "Invalid credentials"
  }
}
```

```json Limite Excedido (429)
{
  "success": false,
  "error": {
    "code": "rate_limit_exceeded",
    "message": "Too many requests",
    "details": {
      "limit": 60,
      "window": "1 minute",
      "retry_after": 45
    }
  }
}
```

</ResponseExample>

## Formatação de CNPJ

O endpoint aceita CNPJs nos seguintes formatos:

- Com formatação: `21.071.712/0001-71`
- Sem formatação: `21071712000171`
- Com ou sem zeros à esquerda

<Info>
  O sistema normaliza automaticamente os CNPJs, então você pode enviar em qualquer formato.
</Info>

## Limites

- **Máximo de CNPJs por requisição**: Varia conforme seu plano (10-100)
- **Taxa de requisições**: Conforme seu plano de parceiro
- **Tempo de resposta**: Normalmente < 500ms por CNPJ

## Custos

Cada CNPJ consultado consome 1 crédito da sua conta, independentemente de ser encontrado ou não.

## Casos de Uso

### 1. Enriquecimento de Base de Clientes

```javascript
// Enriquecer lista de CNPJs de clientes
const cnpjsClientes = [
  "21071712000171",
  "34028316000103",
  "15436940000103"
];

const response = await buscarPorCNPJ(cnpjsClientes);

// Processar contatos encontrados
response.data.forEach(empresa => {
  empresa.contatos.forEach(contato => {
    // Adicionar ao CRM
    adicionarContatoCRM(contato);
  });
});
```

### 2. Validação de Leads

```python
# Validar e enriquecer leads recebidos
def validar_lead(cnpj):
    response = buscar_por_cnpj([cnpj])
    
    if response['data']:
        empresa = response['data'][0]
        
        # Verificar se empresa está ativa
        if empresa['situacao'] == 'ATIVA':
            return {
                'valido': True,
                'empresa': empresa,
                'score': calcular_score(empresa)
            }
    
    return {'valido': False}
```

### 3. Prospecção Direcionada

```php
// Buscar empresas para campanha específica
function prospectarEmpresas($listaCNPJs) {
    $response = buscarPorCNPJ($listaCNPJs);
    $prospects = [];
    
    foreach ($response['data'] as $empresa) {
        // Filtrar por critérios específicos
        if ($empresa['porte'] === 'EPP' && 
            $empresa['enriquecimento']['funcionarios'] > 20) {
            
            // Adicionar contatos relevantes
            foreach ($empresa['contatos'] as $contato) {
                if (strpos($contato['cargo'], 'Diretor') !== false ||
                    strpos($contato['cargo'], 'Gerente') !== false) {
                    $prospects[] = $contato;
                }
            }
        }
    }
    
    return $prospects;
}
```

## Dicas de Otimização

<AccordionGroup>
  <Accordion title="Requisições em Lote">
    Sempre que possível, agrupe múltiplos CNPJs em uma única requisição para melhor performance:
    
    ```javascript
    // ❌ Evite
    for (const cnpj of cnpjs) {
      await buscarPorCNPJ([cnpj]);
    }
    
    // ✅ Prefira
    await buscarPorCNPJ(cnpjs);
    ```
  </Accordion>

  <Accordion title="Cache de Resultados">
    Implemente cache local para evitar consultas repetidas:
    
    ```python
    from functools import lru_cache
    import hashlib
    
    @lru_cache(maxsize=1000)
    def buscar_cnpj_cached(cnpj):
        return buscar_por_cnpj([cnpj])
    ```
  </Accordion>

  <Accordion title="Tratamento de Erros">
    Sempre implemente tratamento robusto de erros:
    
    ```javascript
    try {
      const response = await buscarPorCNPJ(cnpjs);
      
      // Processar CNPJs encontrados
      if (response.data.length > 0) {
        processarEmpresas(response.data);
      }
      
      // Tratar CNPJs não encontrados
      if (response.not_found.length > 0) {
        logCNPJsNaoEncontrados(response.not_found);
      }
      
    } catch (error) {
      if (error.response?.status === 429) {
        // Aguardar e tentar novamente
        await sleep(error.response.data.details.retry_after * 1000);
        return buscarPorCNPJ(cnpjs);
      }
      
      throw error;
    }
    ```
  </Accordion>
</AccordionGroup>

## Suporte

Para dúvidas sobre este endpoint:

<Card
  title="Suporte Técnico Parceiros"
  icon="headset"
  href="mailto:suporte-parceiros@speedio.com.br"
>
  Obtenha ajuda especializada
</Card>